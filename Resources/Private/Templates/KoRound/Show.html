{namespace cs=AchimFritz\ChampionShip\ViewHelpers}
<f:layout name="Default" />

<f:section name="Content">

	<f:render partial="Round/List" arguments="{rounds: allKoRounds}" />
	<f:render partial="Round/Show" arguments="{round: round}" />
	
	<f:render partial="Round/KoRound/New" arguments="{recentCup: recentCup}" />
	<f:render partial="Round/ChildKoRound/New" arguments="{recentCup: recentCup, allKoRounds: allKoRounds}" />
	<f:security.ifHasRole role="AchimFritz.ChampionShip:Administrator">

         <cs:ifIsChildKoRound round="{round}">
				<f:then>
					<f:render partial="Match/TeamsOfTwoMatchesMatch/New" arguments="{recentCup: recentCup, round: round}" />
					<f:render partial="Round/ChildKoRound/Edit" arguments="{round: round, allKoRounds: allKoRounds}" />
				</f:then>
            <f:else>
					<f:render partial="Match/CrossGroupMatch/New" arguments="{recentCup: recentCup, round: round, allGroupRounds: allGroupRounds}" />
					<f:render partial="Round/KoRound/Edit" arguments="{round: round}" />
				</f:else>
			</cs:ifIsChildKoRound>
	</f:security.ifHasRole>
</f:section>
