{namespace cs=AchimFritz\ChampionShip\ViewHelpers}
<f:if condition="{matches}">
	<f:then>
			<f:for each="{matches}" as="match">
				<div class="cs-teaser">
				<p><f:format.date format="d.m.Y H:i">{match.startDate}</f:format.date></p>
					<table class="table">
						<tr>
							<td>
								<f:render partial="Match/Duell/Host" arguments="{match: match}" />
							</td>
							<td>
							<f:if condition="{match.result}">
								{match.result.hostTeamGoals}
							</f:if>
							</td>
						</tr>
						<tr>
							<td>
								<f:render partial="Match/Duell/Guest" arguments="{match: match}" />
							</td>
							<td>
							<f:if condition="{match.result}">
									{match.result.guestTeamGoals}
							</f:if>
							</td>
						</tr>
					</table>
					<f:security.ifHasRole role="AchimFritz.ChampionShip:User">
						<cs:userTip match="{match}">
							<p {cs:ifTipIsEditable(tip: tip, then: ' class="tip"')}>Tip:
							<cs:ifTipIsEditable tip="{tip}">
								<f:then>
									<input class="tipId" type="hidden" value="{f:format.identifier(value: tip)}" />
									<input class="hostTip" type="text" size="1" style="width: 17px;" value="{tip.result.hostTeamGoals}" />
									:
									<input class="guestTip" type="text" size="1" style="width: 17px;" value="{tip.result.guestTeamGoals}" />
								</f:then>
								<f:else>
									<span class="cs-tip-{tip.points}">
										{tip.result.hostTeamGoals}
										:
										{tip.result.guestTeamGoals}
									</span>
								</f:else>
							</cs:ifTipIsEditable>
							</p>
						</cs:userTip>
					</f:security.ifHasRole>
				<f:security.ifAuthenticated>
						<f:render partial="Actions/Show" arguments="{object: match}" />
				</f:security.ifAuthenticated>
				</div>
			</f:for>
	</f:then>
	<f:else>
		<p>No matches created yet.</p>
	</f:else>
</f:if>
